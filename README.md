
# üé§ Whisper Transcription API

<p align="center">
  <a href="./API_REFERENCE.md" style="text-decoration:none;">
    <img src="https://img.shields.io/badge/API%20Reference-%F0%9F%93%96-blue?style=for-the-badge" alt="API Reference"/>
  </a>
</p>

**–ú–Ω–æ–≥–æ-GPU –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –∞—É–¥–∏–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ—á–µ—Ä–µ–¥–∏, –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π –∏ —É–ª—É—á—à–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ GPT.**

---


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### ü™ü Windows

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.8+**
   - [–°–∫–∞—á–∞—Ç—å Python](https://www.python.org/downloads/windows/)

2. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:**
   ```powershell
   git clone https://github.com/GameMoR1/whisper_API_que.git
   cd whisper_API_que
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```powershell
   python -m venv venv
   .\venv\Scripts\activate
   ```

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```powershell
   pip install -r requirements.txt
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
   ```powershell
   uvicorn main:app --reload
   ```

6. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
   [http://localhost:8000/](http://localhost:8000/)

---

### üêß Linux

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.8+ –∏ git**
   ```bash
   sudo apt update
   sudo apt install python3 python3-venv python3-pip git
   ```

2. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   git clone https://github.com/GameMoR1/whisper_API_que.git
   cd whisper_API_que
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   uvicorn main:app --reload
   ```

6. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
   [http://localhost:8000/](http://localhost:8000/)

---

## üìö –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç API –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã —Å –ø–æ–º–æ—â—å—é Whisper –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö GPU, —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π –º–æ–¥–µ–ª–µ–π, –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —É–ª—É—á—à–µ–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ GPT.  
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–∞—á, GPU, –ª–æ–≥–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π.

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

app/

‚îú‚îÄ‚îÄ main.py

‚îú‚îÄ‚îÄ core/

‚îÇ ‚îú‚îÄ‚îÄ task.py

‚îÇ ‚îú‚îÄ‚îÄ queue.py

‚îÇ ‚îú‚îÄ‚îÄ gpu.py

‚îÇ ‚îú‚îÄ‚îÄ model_manager.py

‚îÇ ‚îî‚îÄ‚îÄ utils.py

‚îú‚îÄ‚îÄ services/

‚îÇ ‚îî‚îÄ‚îÄ transcriber.py

‚îú‚îÄ‚îÄ static/

‚îÇ ‚îî‚îÄ‚îÄ style.css

‚îú‚îÄ‚îÄ templates/

‚îÇ ‚îî‚îÄ‚îÄ index.html


---

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö GPU
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π** Whisper (`tiny`, `base`, `small`, `medium`, `large-v2`, `large-v3`) –Ω–∞ –∫–∞–∂–¥—ã–π GPU
- **–£–ª—É—á—à–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ —á–µ—Ä–µ–∑ GPT** (g4f/OpenAI)
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –æ—á–µ—Ä–µ–¥–∏, GPU, –ª–æ–≥–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π
- **REST API** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å n8n –∏ –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏


---

## üñ•Ô∏è –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞ –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- –ß–µ–∫–±–æ–∫—Å "–†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–æ—Ä–æ–∂–∫–∏" ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–ª–µ–π –∏ –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏—è (split_roads)
- –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω split_roads, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±—Ä–∞–Ω –≤ –¥–∏–∞–ª–æ–≥ –ø–æ —Ä–æ–ª—è–º —Å –ø–æ–º–æ—â—å—é GPT
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä—è–º–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–∏, —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á, GPU –∏ –ª–æ–≥–æ–≤
- –ö—Ä–∞—Å–∏–≤—ã–π —Ç—ë–º–Ω—ã–π –¥–∏–∑–∞–π–Ω, –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n

1. **HTTP Request node**  
   - –ú–µ—Ç–æ–¥: `POST`
   - URL: `http://<your_host>:8000/api/transcribe`
   - Send Binary Data: `true`
   - Binary Property: `file`
   - Add Form Fields: `model_name`, `upgrade_transcribation`, `up_speed` –∏ –¥—Ä.

2. **HTTP Request node**  
   - –ú–µ—Ç–æ–¥: `GET`
   - URL: `http://<your_host>:8000/api/status/{{$json["task_id"]}}`
   - Polling –¥–æ —Å—Ç–∞—Ç—É—Å–∞ `done`

---


## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **split_roads**: –∞—É–¥–∏–æ—Ñ–∞–π–ª –¥–µ–ª–∏—Ç—Å—è –Ω–∞ N –¥–æ—Ä–æ–∂–µ–∫ (–∫–∞–Ω–∞–ª–æ–≤), –∫–∞–∂–¥–∞—è –¥–æ—Ä–æ–∂–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ GPT
- **GPT (g4f)**: –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–µ–ø–ª–∏–∫–∏ –ø–æ —Ä–æ–ª—è–º –≤ –¥–∏–∞–ª–æ–≥, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–∞–π–º–∫–æ–¥—ã –∏ —Ä–æ–ª–∏, —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
- **–û—á–µ—Ä–µ–¥—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞**
- **–í–æ—Ä–∫–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ GPU**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –∑–∞–¥–∞—á**
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî –∑–∞–¥–∞—á–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞**
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** API –ø—É–±–ª–∏—á–Ω—ã–π, –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏)

---

## üõ°Ô∏è –í–∞–∂–Ω–æ

> **–í–Ω–∏–º–∞–Ω–∏–µ:**  
> API –Ω–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ!  
> –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞.
